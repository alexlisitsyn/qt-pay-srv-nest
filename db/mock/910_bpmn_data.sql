insert into bpmn (name, schema, options, active, created_ts, updated_ts)
values ('account-balance', '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<bpmn:definitions\r\n  id=\"testProcess\"\r\n  targetNamespace=\"https://bpmn.io/schema/bpmn\"\r\n  xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"\r\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\"\r\n>\r\n  <bpmn:process id=\"theProcess\" isExecutable=\"true\">\r\n    <bpmn:startEvent id=\"theStart\"/>\r\n    <bpmn:serviceTask id=\"getBalance\" implementation=\"${environment.services.runActivityById}\" camunda:resultVariable=\"balance\"/>\r\n    <bpmn:exclusiveGateway id=\"checkBalance\" default=\"flow3\"/>\r\n    <bpmn:serviceTask id=\"transferBalance\" implementation=\"${environment.services.runActivityById}\" camunda:resultVariable=\"transfer\"/>\r\n    <bpmn:endEvent id=\"endSkip\"/>\r\n    <bpmn:endEvent id=\"endProcess\"/>\r\n\r\n    <bpmn:sequenceFlow id=\"flow1\" sourceRef=\"theStart\" targetRef=\"getBalance\"/>\r\n    <bpmn:sequenceFlow id=\"flow2\" sourceRef=\"getBalance\" targetRef=\"checkBalance\"/>\r\n    <bpmn:sequenceFlow id=\"flow3\" sourceRef=\"checkBalance\" targetRef=\"endSkip\"/>\r\n    <bpmn:sequenceFlow id=\"flow4\" sourceRef=\"checkBalance\" targetRef=\"transferBalance\">\r\n      <bpmn:conditionExpression>${environment.services.checkBalance(environment.variables.balance)}</bpmn:conditionExpression>\r\n    </bpmn:sequenceFlow>\r\n    <bpmn:sequenceFlow id=\"flow5\" sourceRef=\"transferBalance\" targetRef=\"endProcess\"/>\r\n  </bpmn:process>\r\n</bpmn:definitions>\r\n', '{}', true, '2023-08-27 08:44:08.115093', null);
